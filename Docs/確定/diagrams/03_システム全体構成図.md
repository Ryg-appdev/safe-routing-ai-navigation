# ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆå›³

```mermaid
flowchart TB
    subgraph Client["ğŸ“± Mobile Client (Flutter)"]
        Flutter["Flutter App<br/>iOS / Android"]
        MapsSDK["google_maps_flutter"]
        GPS["Geolocator"]
    end

    subgraph Backend["â˜ï¸ Google Cloud"]
        CloudRun["Cloud Run"]
        ADK["Google ADK<br/>Python"]
        VertexAI["Vertex AI"]
        Firestore[("Firestore")]
    end

    subgraph Agents["ğŸ¤– Agentic Workflow"]
        InputAgent["Input Agent"]
        RiskAgent["Risk Evaluator"]
        RouteAgent["Route Selector"]
        VisionAgent["Visual Analyst"]
        Narrator["Narrator Agent"]
    end

    subgraph APIs["ğŸŒ External APIs"]
        WeatherAPI["OpenWeatherMap"]
        HazardAPI["ãƒã‚¶ãƒ¼ãƒ‰ãƒãƒƒãƒ—"]
        PoliceData["è­¦è¦–åºçµ±è¨ˆ"]
        RoutesAPI["Google Routes API"]
        StreetView["Street View API"]
    end

    Flutter --> CloudRun
    CloudRun --> ADK
    ADK --> VertexAI
    ADK --> Firestore
    
    ADK --> InputAgent
    InputAgent --> RiskAgent
    RiskAgent --> RouteAgent
    RouteAgent --> Narrator
    ADK --> VisionAgent

    InputAgent --> WeatherAPI
    InputAgent --> HazardAPI
    InputAgent --> PoliceData
    RouteAgent --> RoutesAPI
    VisionAgent --> StreetView
```
